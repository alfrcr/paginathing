{"version":3,"file":"paginathing.min.js","sources":["../src/paginathing.js"],"sourcesContent":["/**\n * jQuery Paginathing\n * Paginate Everything\n *\n * @author Alfred Crosby <https://github.com/alfredcrosby>\n * Inspired from http://esimakin.github.io/twbs-pagination/\n *\n * Copyright (c) 2018 Alfred Crosby\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function ($, window, document) {\n  \"use strict\";\n\n  const Paginator = function (element, options) {\n    this.el = $(element);\n    this.options = $.extend({}, $.fn.paginathing.defaults, options);\n\n    this.startPage = 1;\n    this.currentPage = 1;\n    this.totalItems = this.el.children().length;\n\n    const availablePage = Math.ceil(this.totalItems / this.options.perPage);\n    if (availablePage < this.options.limitPagination) {\n      this.options.limitPagination = availablePage;\n    }\n\n    this.totalPages = Math.max(availablePage, this.options.limitPagination);\n    this.container = $(\"<nav></nav>\")\n      .addClass(this.options.containerClass)\n      .attr(\"aria-label\", \"Page navigation\");\n    this.ul = $(\"<ul></ul>\").addClass(this.options.ulClass);\n\n    this.show(this.startPage);\n\n    return this;\n  };\n\n  Paginator.prototype = {\n    pagination: function (type, page) {\n      const _self = this;\n      const li = $(\"<li></li>\");\n      const a = $(\"<a></a>\")\n        .attr(\"href\", \"#\")\n        .addClass(_self.options.linkClass);\n\n      let text;\n      if (type === \"number\") {\n        text = page;\n      } else if (type === \"pageNumbers\") {\n        // get the page numbers text\n        text = _self.paginationNumbersText();\n      } else {\n        text = _self.paginationText(type);\n      }\n\n      li.addClass(_self.options.liClass).addClass(type);\n      li.data(\"pagination-type\", type);\n      li.data(\"page\", page);\n      li.append(a.html(text));\n\n      return li;\n    },\n\n    paginationText: function (type) {\n      return this.options[type + \"Text\"];\n    },\n\n    paginationNumbersText: function () {\n      const _self = this;\n      return \"Page \" + _self.currentPage + \"/\" + _self.totalPages;\n    },\n\n    buildPagination: function () {\n      const _self = this;\n      const pagination = [];\n      const prev =\n        this.currentPage - 1 < _self.startPage\n          ? _self.startPage\n          : _self.currentPage - 1;\n      const next =\n        _self.currentPage + 1 > _self.totalPages\n          ? _self.totalPages\n          : _self.currentPage + 1;\n\n      let start, end;\n      const limit = _self.options.limitPagination;\n\n      if (limit) {\n        if (_self.currentPage <= Math.ceil(limit / 2) + 1) {\n          start = 1;\n          end = limit;\n        } else if (\n          _self.currentPage + Math.floor(limit / 2) >=\n          _self.totalPages\n        ) {\n          start = _self.totalPages + 1 - limit;\n          end = _self.totalPages;\n        } else {\n          start = _self.currentPage - Math.ceil(limit / 2);\n          end = _self.currentPage + Math.floor(limit / 2);\n        }\n      } else {\n        start = _self.startPage;\n        end = _self.totalPages;\n      }\n\n      // \"First\" button\n      if (_self.options.firstLast) {\n        pagination.push(_self.pagination(\"first\", _self.startPage));\n      }\n\n      // \"Prev\" button\n      if (_self.options.prevNext) {\n        pagination.push(_self.pagination(\"prev\", prev));\n      }\n\n      // Pagination\n      for (let i = start; i <= end; i++) {\n        pagination.push(_self.pagination(\"number\", i));\n      }\n\n      // \"Next\" button\n      if (_self.options.prevNext) {\n        pagination.push(_self.pagination(\"next\", next));\n      }\n\n      // \"Last\" button\n      if (_self.options.firstLast) {\n        pagination.push(_self.pagination(\"last\", _self.totalPages));\n      }\n\n      // page numbers\n      if (_self.options.pageNumbers) {\n        pagination.push(_self.pagination(\"pageNumbers\", _self.currentPage));\n      }\n\n      return pagination;\n    },\n\n    render: function (page) {\n      const _self = this;\n      const options = _self.options;\n      const pagination = _self.buildPagination();\n\n      // Remove children before re-render (prevent duplicate)\n      _self.ul.children().remove();\n      _self.ul.append(pagination);\n\n      // Manage active DOM\n      const startAt = page === 1 ? 0 : (page - 1) * options.perPage;\n      const endAt = page * options.perPage;\n\n      _self.el.children().hide();\n      _self.el.children().slice(startAt, endAt).show();\n\n      // Manage active state\n      _self.ul.children().each(function () {\n        const _li = $(this);\n        const type = _li.data(\"pagination-type\");\n\n        switch (type) {\n          case \"number\":\n            if (_li.data(\"page\") === page) {\n              _li.addClass(options.activeClass);\n            }\n            break;\n          case \"first\":\n            page === _self.startPage &&\n              _li\n                .toggleClass(options.disabledClass)\n                .attr(\"aria-disabled\", \"true\");\n            break;\n          case \"last\":\n            page === _self.totalPages &&\n              _li\n                .toggleClass(options.disabledClass)\n                .attr(\"aria-disabled\", \"true\");\n            break;\n          case \"prev\":\n            page - 1 < _self.startPage &&\n              _li\n                .toggleClass(options.disabledClass)\n                .attr(\"aria-disabled\", \"true\");\n            break;\n          case \"next\":\n            page + 1 > _self.totalPages &&\n              _li\n                .toggleClass(options.disabledClass)\n                .attr(\"aria-disabled\", \"true\");\n            break;\n          default:\n            break;\n        }\n      });\n\n      // If insertAfter is defined\n      if (options.insertAfter) {\n        _self.container.append(_self.ul).insertAfter($(options.insertAfter));\n      } else {\n        _self.el.after(_self.container.append(_self.ul));\n      }\n    },\n\n    handle: function () {\n      const _self = this;\n      _self.container.find(\"li\").each(function () {\n        const _li = $(this);\n\n        _li.click(function (e) {\n          e.preventDefault();\n          const page = _li.data(\"page\");\n\n          _self.currentPage = page;\n          _self.show(page);\n        });\n      });\n    },\n\n    show: function (page) {\n      const _self = this;\n\n      _self.render(page);\n      _self.handle();\n    },\n  };\n\n  $.fn.paginathing = function (options) {\n    const _self = this;\n    return _self.each(function () {\n      return new Paginator(this, options);\n    });\n  };\n\n  $.fn.paginathing.defaults = {\n    perPage: 10,\n    limitPagination: false,\n    prevNext: true,\n    firstLast: true,\n    prevText: \"&laquo;\",\n    nextText: \"&raquo;\",\n    firstText: \"First\",\n    lastText: \"Last\",\n    containerClass: \"pagination-container\",\n    ulClass: \"pagination\",\n    liClass: \"page-item\",\n    linkClass: \"page-link\",\n    activeClass: \"active\",\n    disabledClass: \"disabled\",\n    insertAfter: null,\n    pageNumbers: false,\n  };\n})(jQuery, window, document);\n"],"names":["$","window","document","Paginator","element","options","this","el","extend","fn","paginathing","defaults","startPage","currentPage","totalItems","children","length","availablePage","Math","ceil","perPage","limitPagination","totalPages","max","container","addClass","containerClass","attr","ul","ulClass","show","prototype","pagination","type","page","_self","li","a","linkClass","text","paginationNumbersText","paginationText","liClass","data","append","html","buildPagination","prev","next","start","end","limit","floor","firstLast","push","prevNext","i","pageNumbers","render","remove","startAt","endAt","hide","slice","each","_li","activeClass","toggleClass","disabledClass","insertAfter","after","handle","find","click","e","preventDefault","prevText","nextText","firstText","lastText","jQuery"],"mappings":"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"}